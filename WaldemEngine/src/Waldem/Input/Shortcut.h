#pragma once

namespace Waldem
{
    struct Shortcut
    {
        std::unordered_set<int> Keys;

        bool Matches(const std::unordered_set<int>& pressed) const
        {
            for (int key : Keys)
            {
                if (pressed.find(key) == pressed.end())
                    return false;
            }
            return true;
        }

        bool operator==(const Shortcut& other) const noexcept
        {
            return Keys == other.Keys;
        }
    };
    
    struct ShortcutHash
    {
        std::size_t operator()(const Shortcut& s) const noexcept
        {
            std::size_t hash = 0;
            for (int key : s.Keys)
            {
                hash ^= std::hash<int>()(key) + 0x9e3779b9 + (hash << 6) + (hash >> 2);
            }
            return hash;
        }
    };
}
